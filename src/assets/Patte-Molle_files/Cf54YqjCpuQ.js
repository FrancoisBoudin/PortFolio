if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSMailboxInitialSyncCursor",["CurrentLocale","I64","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a={full_height:200,locale:c("CurrentLocale").get(),preview_height:200,preview_height_large:400,preview_width:c("gkx")("1224637")?183:150,preview_width_large:c("gkx")("1224637")?360:300,scale:1,snapshot_num_threads_per_page:15};b=d("I64").of_int32(c("qex")._("461")===!0?3:1);e=d("I64").of_int32(0);f=a;g.syncChannel=b;g.lastSyncTimestampMs=e;g.syncParams=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45});f["default"]=a}),66);
__d("LSDefaultSyncGroups",["CurrentUser","I64","LSIntEnum","LSMailboxInitialSyncCursor","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","cr:3808","cr:3809","gkx","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e,f;return c("nativePromiseRegeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return c("nativePromiseRegeneratorRuntime").awrap(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange("")));case 2:e=g.sent,f=e.map(function(a){a=a.syncDatabaseId;return d("LSIntEnum").toNumber(a)}),b.forEach(function(b){return c("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(f.includes(b)){e.next=3;break}e.next=3;return c("nativePromiseRegeneratorRuntime").awrap(a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:d("LSIntEnum").ofNumber(b)})));case 3:case"end":return e.stop()}},null,this)});case 5:case"end":return g.stop()}},null,this)}function i(a){var b;return c("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:b=[1,2,15,28,12,16,26,5];d.next=3;return c("nativePromiseRegeneratorRuntime").awrap(h(a,b));case 3:case"end":return d.stop()}},null,this)}function j(a,b){var e,f,g;return c("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:g=function(b){var e,g;return c("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=b.groupId,g=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);if(f.includes(e)){h.next=4;break}h.next=4;return c("nativePromiseRegeneratorRuntime").awrap(a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,g,{groupId:d("LSIntEnum").ofNumber(e)})));case 4:case"end":return h.stop()}},null,this)};h.next=3;return c("nativePromiseRegeneratorRuntime").awrap(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups"))));case 3:e=h.sent,f=e.map(function(a){a=a.groupId;return d("LSIntEnum").toNumber(a)}),b.forEach(function(a){return g(a)});case 6:case"end":return h.stop()}},null,this)}function k(a){var b;return c("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:b=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(d("LSMailboxInitialSyncCursor").syncParams)},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE]})}];[15,12].forEach(function(a){return b.push({groupId:a,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp})});[16,26,5,28].forEach(function(a){return b.push({groupId:a})});e.next=5;return c("nativePromiseRegeneratorRuntime").awrap(j(a,b));case 5:case"end":return e.stop()}},null,this)}function l(a){return a.table("_user_info").put({facebookUserId:d("I64").of_string(c("CurrentUser").getID()),id:d("LSIntEnum").ofNumber(1)})}function m(a){if(b("cr:3808")!=null)return b("cr:3808").seed(a);else return b("Promise").resolve()}function n(a){return c("nativePromiseRegeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(!c("gkx")("2250")){b.next=5;break}b.next=3;return c("nativePromiseRegeneratorRuntime").awrap(a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:d("LSIntEnum").ofNumber(108)})));case 3:b.next=5;return c("nativePromiseRegeneratorRuntime").awrap(a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:d("LSIntEnum").ofNumber(108)})));case 5:case"end":return b.stop()}},null,this)}function o(a){return c("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(b("cr:3809")!=null)){d.next=3;break}d.next=3;return c("nativePromiseRegeneratorRuntime").awrap(b("cr:3809").seed(a));case 3:case"end":return d.stop()}},null,this)}function a(a){return c("nativePromiseRegeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:b.next=2;return c("nativePromiseRegeneratorRuntime").awrap(i(a));case 2:b.next=4;return c("nativePromiseRegeneratorRuntime").awrap(k(a));case 4:b.next=6;return c("nativePromiseRegeneratorRuntime").awrap(l(a));case 6:b.next=8;return c("nativePromiseRegeneratorRuntime").awrap(m(a));case 8:b.next=10;return c("nativePromiseRegeneratorRuntime").awrap(o(a));case 10:b.next=12;return c("nativePromiseRegeneratorRuntime").awrap(n(a));case 12:case"end":return b.stop()}},null,this)}g.seedDb=a}),98);